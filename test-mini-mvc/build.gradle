apply plugin: "io.spring.dependency-management"
apply plugin: "org.springframework.boot"
apply plugin: "kotlin"
apply plugin: "java"
apply plugin: "war"

dependencies {
    compile "org.springframework.boot:spring-boot-starter-validation"
    compile "org.springframework.boot:spring-boot-starter-data-jdbc"
    compile "org.springframework.boot:spring-boot-starter-data-jpa"
    testCompile 'org.springframework.boot:spring-boot-starter-test'
    compile "org.springframework.boot:spring-boot-starter-webflux"
    compile "org.springframework.boot:spring-boot-starter-logging"
    // 配置测试时依赖的Tomcat包，打包时排除
    compile "org.springframework.boot:spring-boot-starter-tomcat"
    compile "org.springframework.boot:spring-boot-starter-jdbc"
    compile "org.springframework.boot:spring-boot-starter-web"
    compile "org.springframework.boot:spring-boot-devtools"
    compile "org.springframework.boot:spring-boot-starter"
    //noinspection SpellCheckingInspection
    annotationProcessor 'org.projectlombok:lombok:1.18.12'
    // 本地测试环境配置数据源的工厂实现方式，打包时排除
    compile 'org.apache.commons:commons-dbcp2:2.8.0'
    //noinspection SpellCheckingInspection
    compileOnly "org.projectlombok:lombok:1.18.12"
    compile "mysql:mysql-connector-java:8.0.18"
    compile "com.mini:mini-jdbc:1.0"
    compile project(":mini-mvc")
}

war {
    exclude("WEB-INF/lib/commons-dbcp2-2.8.0.jar")
    exclude("WEB-INF/lib/tomcat-embed-*")
    exclude("META-INF/context.xml")
}
