<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>
<project name="cfinal" default="pack.jar" basedir=".">
	<property name="web" value="${basedir}/WebContent/" />
	<property name="class" value="${web}/WEB-INF/classes" />
	<property name="src" value="${basedir}/src" />
	<property name="root" value="${basedir}" />
	<property name="build" value="build" />

	<tstamp>
		<format property="touch.time" pattern="yyyyMMdd-HHmm" unit="hour" />
	</tstamp>

	<target name="pack.del" description="make jar file">
		<delete>
			<fileset dir="${build}">
				<include name="sn-mini-1.0.0.jar" />
				<include name="sn-mini-1.0.0.zip" />
			</fileset>
		</delete>
	</target>

	<target name="pack.jar" depends="pack.zip" description="make jar file">
		<jar jarfile="${build}/sn-mini-1.0.0.jar">
			<fileset dir="${class}">
				<include name="**/*.class" />
				<exclude name="test/**/*.class" />
			</fileset>
			<fileset dir="${web}">
				<include name="META-INF/services/javax.servlet.ServletContainerInitializer" />
			</fileset>
			<fileset dir="${src}">
				<include name="**/*.java" />
				<exclude name="test/**/*.java" />
			</fileset>
		</jar>
	</target>

	<target name="pack.zip" depends="pack.del" description="make zip file">
		<zip destfile="${build}/sn-mini-1.0.0.zip" basedir="${root}">
			<include name="**/*.*" />
			<exclude name="**/*.class" />
		</zip>
	</target>
</project>